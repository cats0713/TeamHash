<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      lang="en" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="fragments.html :: head"></head>
    <body>
        <p th:text="${account.emailVerified}"></p>
        <div class="alert alert-warning" role="alert" th:if="${account != null && !account.emailVerified}">
            Team#에 가입을 완료하려면 <a href="#" th:href="@{/check-email}" class="alert-link">계정 인증 메일을 확인</a>하세요.
        </div>

        <!-- 로그인 된 유저 정보 파악 및 로그아웃 기본 틀 -->
        <h1 th:inline="text">Hello [[${#httpServletRequest.remoteUser}]]!</h1>
        <p th:text="${name}"></p>
        <form th:action="@{/logout}" method="post">
            <input type="submit" value="Sign Out"/>
        </form>

        <!-- Project Build button -->
        <form th:action="@{/build-project}" method="get">
            <input type="submit" value="Build Project"/>
        </form>


        <table>
            <thead>
                <tr>
                    <th>프로젝트 이름</th>
                    <th>프로젝트 설명</th>
                </tr>

            </thead>
            <tbody>
                <tr th:each="project : ${projectList}">
                    <td>
                        <!-- 프로젝트에 맞는 페이지 URL 생성 -->
                        <!-- 깃허브처럼 바꾸고싶다. /project/projectBuilderName/projectTitle 요로코롬 -->
                        <a th:href="@{'/project/' + ${project.id} + '/' + ${project.title}}">
                            <span th:text="${project.title}"></span>
                        </a>
                        
                    </td>
                    <td>
                        <span th:text="${project.subtitle}"></span>
                    </td>


                </tr>
            </tbody>



        </table>
    </body>
</html>